<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Continental</title>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap");

    /* CSS переменные для тем */
    :root {
      --bg-primary: #000000;
      --bg-secondary: rgba(0, 0, 0, 0.85);
      --bg-tertiary: rgba(255, 255, 255, 0.05);
      --text-primary: #ffffff;
      --text-secondary: #cccccc;
      --border-color: rgba(255, 255, 255, 0.1);
      --shadow-color: rgba(0, 0, 0, 0.5);
      --btn-bg: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
      --btn-text: #000000;
      --btn-shadow: rgba(255, 255, 255, 0.2);
    }

    [data-theme="light"] {
      --bg-primary: #ffffff;
      --bg-secondary: rgba(255, 255, 255, 0.95);
      --bg-tertiary: rgba(0, 0, 0, 0.05);
      --text-primary: #000000;
      --text-secondary: #666666;
      --border-color: rgba(0, 0, 0, 0.1);
      --shadow-color: rgba(0, 0, 0, 0.1);
      --btn-bg: linear-gradient(135deg, #000000 0%, #333333 100%);
      --btn-text: #ffffff;
      --btn-shadow: rgba(0, 0, 0, 0.2);
    }

    /* Анимации */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translate(-50%, -50%) translateY(30px);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%) translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.02);
      }
    }

    @keyframes shimmer {
      0% {
        background-position: -200% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100vh;
      overflow: hidden;
      font-family: 'Inter', sans-serif;
      font-size: 16px;
      color: var(--text-primary);
      background: var(--bg-primary);
      position: relative;
      transition: all 0.3s ease;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 20% 80%, var(--border-color) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, var(--border-color) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, var(--border-color) 0%, transparent 50%);
      z-index: -2;
      transition: all 0.3s ease;
    }

    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      position: relative;
      width: 100%;
      height: 100%;
    }

    .screen {
      display: none;
      width: 100%;
      max-width: 420px;
      max-height: 90vh;
      background: var(--bg-secondary);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 20px 40px var(--shadow-color);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease-out;
      overflow-y: auto;
    }

    .screen::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        var(--border-color),
        transparent
      );
      animation: shimmer 3s infinite;
    }

    .active {
      display: block;
      opacity: 1;
      pointer-events: auto;
      animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 42px;
      font-weight: 700;
      text-align: center;
      margin-bottom: 50px;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: float 3s ease-in-out infinite;
      letter-spacing: 2px;
      position: relative;
    }

    .logo::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--text-primary), transparent);
    }

    .btn {
      background: var(--btn-bg);
      color: var(--btn-text);
      padding: 18px 24px;
      margin: 16px 0;
      border: none;
      font-weight: 600;
      font-size: 16px;
      width: 100%;
      text-align: center;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 15px var(--btn-shadow);
      opacity: 0;
      transform: translateX(20px);
      font-family: 'Inter', sans-serif;
    }

    .btn:nth-child(2) { animation-delay: 0.1s; }
    .btn:nth-child(3) { animation-delay: 0.2s; }
    .btn:nth-child(4) { animation-delay: 0.3s; }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px var(--btn-shadow);
    }

    .btn:active {
      transform: translateY(0) scale(0.98);
    }

    .header {
      display: flex;
      align-items: center;
      margin-bottom: 30px;
    }

    .back {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      font-size: 24px;
      width: 44px;
      height: 44px;
      border-radius: 12px;
      margin-right: 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      flex-shrink: 0;
    }

    .back:hover {
      background: var(--border-color);
      transform: translateX(-2px);
    }

    .back:active {
      transform: scale(0.95);
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      font-weight: 700;
      margin: 0;
      flex: 1;
      text-align: center;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      transform: translateX(-25px);
    }

    .product {
      background: var(--bg-tertiary);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-color);
      padding: 20px;
      margin: 16px 0;
      border-radius: 16px;
      opacity: 0;
      transform: translateX(20px);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .product:nth-child(2) { animation-delay: 0.1s; }
    .product:nth-child(3) { animation-delay: 0.2s; }
    .product:nth-child(4) { animation-delay: 0.3s; }

    .product:hover {
      background: var(--border-color);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px var(--shadow-color);
    }

    .product-image {
      width: 100%;
      height: 200px;
      background-size: cover;
      background-position: center;
      border-radius: 12px;
      margin-bottom: 15px;
      background-color: var(--bg-tertiary);
    }

    .product-name {
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .product-price {
      color: var(--text-secondary);
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 10px;
    }

    .product-description {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.4;
      margin-bottom: 15px;
    }

    .size-selector {
      margin: 15px 0;
    }

    .size-label {
      color: var(--text-primary);
      font-weight: 500;
      margin-bottom: 8px;
      display: block;
    }

    .size-options {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .size-option {
      padding: 8px 16px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background: var(--bg-tertiary);
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
      min-width: 40px;
      text-align: center;
    }

    .size-option:hover {
      background: var(--border-color);
    }

    .size-option.selected {
      background: var(--btn-bg);
      color: var(--btn-text);
      border-color: transparent;
    }

    .add-to-cart {
      background: var(--btn-bg);
      color: var(--btn-text);
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-top: 10px;
    }

    .add-to-cart:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .add-to-cart:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 15px var(--btn-shadow);
    }

    .support-link {
      display: inline-block;
      background: var(--btn-bg);
      color: var(--btn-text);
      padding: 16px 24px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 16px;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px var(--btn-shadow);
      position: relative;
      overflow: hidden;
    }

    .support-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px var(--btn-shadow);
    }

    .support-link:active {
      transform: scale(0.98);
    }

    #home {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      min-height: 400px;
    }

    .terms-content {
      line-height: 1.6;
      color: var(--text-secondary);
      font-size: 16px;
      background: var(--bg-tertiary);
      padding: 20px;
      border-radius: 12px;
      border: 1px solid var(--border-color);
      text-align: left;
    }

    /* Переключатели в верхней части */
    .top-controls {
      position: fixed;
      top: 15px;
      left: 15px;
      right: 15px;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .language-switcher, .theme-switcher {
      background: var(--bg-secondary);
      border-radius: 8px;
      padding: 5px 10px;
      border: 1px solid var(--border-color);
      box-shadow: 0 2px 10px var(--shadow-color);
      backdrop-filter: blur(10px);
    }

    .language-switcher select, .theme-switcher button {
      background: transparent
      border none;
      color: var(--text-primary);
      font-size: 14px;
      padding: 5px;
      cursor: pointer;
      outline: none;
    }

    .language-switcher select option {
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    .theme-switcher button {
      font-size: 18px;
      width: 30px;
      height: 30px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .theme-switcher button:hover {
      background: var(--border-color);
    }

    .cart-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--btn-bg);
      color: var(--btn-text);
      border: none;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 20px var(--btn-shadow);
      transition: all 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .cart-button:hover {
      transform: scale(1.1);
    }

    .cart-count {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ff4444;
      color: white;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 12px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 24px;
    }

    .cart-item {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 15px;
      margin: 10px 0;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .cart-item-image {
      width: 60px;
      height: 60px;
      background-size: cover;
      background-position: center;
      border-radius: 8px;
      background-color: var(--bg-tertiary);
      flex-shrink: 0;
    }

    .cart-item-info {
      flex: 1;
    }

    .cart-item-name {
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 5px;
    }

    .cart-item-details {
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 5px;
    }

    .cart-item-price {
      color: var(--text-primary);
      font-weight: 600;
    }

    .cart-item-remove {
      background: #ff4444;
      color: white;
      border: none;
      border-radius: 6px;
      width: 30px;
      height: 30px;
      cursor: pointer;
      font-size: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .cart-item-remove:hover {
      background: #ff6666;
      transform: scale(1.1);
    }

    .cart-total {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
    }

    .cart-total-amount {
      font-size: 24px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 10px;
    }

    .empty-cart {
      text-align: center;
      color: var(--text-secondary);
      padding: 40px 20px;
    }

    .product-detail {
      max-height: calc(90vh - 60px);
      overflow-y: auto;
    }

    /* Адаптивность */
    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }

      .screen {
        padding: 20px;
        border-radius: 16px;
        max-height: 95vh;
      }

      .logo {
        font-size: 36px;
        margin-bottom: 40px;
      }

      .btn {
        padding: 16px 20px;
        font-size: 15px;
      }

      h1 {
        font-size: 24px;
        transform: translateX(-5px);
      }

      .top-controls {
        top: 10px;
        left: 10px;
        right: 10px;
      }

      .language-switcher, .theme-switcher {
        padding: 3px 8px;
      }

      .language-switcher select, .theme-switcher button {
        font-size: 12px;
      }

      .cart-button {
        bottom: 15px;
        right: 15px;
        width: 50px;
        height: 50px;
        font-size: 20px;
      }

      .cart-item {
        padding: 12px;
        gap: 12px;
      }

      .cart-item-image {
        width: 50px;
        height: 50px;
      }
    }
  </style>
</head>
<body data-theme="dark">
  <!-- Верхние элементы управления -->
  <div class="top-controls">
    <div class="language-switcher">
      <select id="language-select">
        <option value="ru">Русский</option>
        <option value="en">English</option>
        <option value="uk">Українська</option>
        <option value="de">Deutsch</option>
      </select>
    </div>
    <div class="theme-switcher">
      <button id="theme-toggle">🌙</button>
    </div>
  </div>

  <!-- Кнопка корзины -->
  <button class="cart-button" onclick="openScreen('cart')" id="cart-btn">
    🛒
    <span class="cart-count" id="cart-count" style="display: none;">0</span>
  </button>

  <div class="container">
    <!-- Главный экран -->
    <div class="screen active" id="home">
      <div class="logo">The Continental</div>
      <button class="btn" onclick="openScreen('catalog')" data-key="catalog_btn">Каталог</button>
      <button class="btn" onclick="openScreen('terms')" data-key="terms_btn">Условия работы</button>
      <button class="btn" onclick="openScreen('support')" data-key="support_btn">Поддержка</button>
    </div>

    <!-- Каталог -->
    <div class="screen" id="catalog">
      <div class="header">
        <button class="back" onclick="backToHome()">←</button>
        <h1 data-key="catalog_title">Каталог</h1>
      </div>
      <button class="btn" onclick="openScreen('tshirts')" data-key="tshirts_btn">Футболки</button>
      <button class="btn" onclick="openScreen('shorts')" data-key="shorts_btn">Шорты</button>
      <button class="btn" onclick="openScreen('sneakers')" data-key="sneakers_btn">Кроссовки</button>
    </div>

    <!-- Футболки -->
    <div class="screen" id="tshirts">
      <div class="header">
        <button class="back" onclick="openScreen('catalog')">←</button>
        <h1 data-key="tshirts_title">Футболки</h1>
      </div>
      <div class="product" onclick="openProductDetail('tshirt1')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/333/fff?text=Premium+Basic')"></div>
        <div class="product-name" data-key="tshirt1_name">Футболка Premium Basic</div>
        <div class="product-price">€29.99</div>
        <div class="product-description" data-key="tshirt1_desc">Классическая футболка из премиального хлопка</div>
      </div>
      <div class="product" onclick="openProductDetail('tshirt2')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/444/fff?text=Designer+Edition')"></div>
        <div class="product-name" data-key="tshirt2_name">Футболка Designer Edition</div>
        <div class="product-price">€45.99</div>
        <div class="product-description" data-key="tshirt2_desc">Дизайнерская футболка с уникальным принтом</div>
      </div>
      <div class="product" onclick="openProductDetail('tshirt3')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/555/fff?text=Limited+Collection')"></div>
        <div class="product-name" data-key="tshirt3_name">Футболка Limited Collection</div>
        <div class="product-price">€59.99</div>
        <div class="product-description" data-key="tshirt3_desc">Лимитированная коллекция, эксклюзивный дизайн</div>
      </div>
    </div>

    <!-- Шорты -->
    <div class="screen" id="shorts">
      <div class="header">
        <button class="back" onclick="openScreen('catalog')">←</button>
        <h1 data-key="shorts_title">Шорты</h1>
      </div>
      <div class="product" onclick="openProductDetail('shorts1')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/666/fff?text=Premium+Sport')"></div>
        <div class="product-name" data-key="shorts1_name">Шорты Premium Sport</div>
        <div class="product-price">€39.99</div>
        <div class="product-description" data-key="shorts1_desc">Спортивные шорты из дышащего материала</div>
      </div>
      <div class="product" onclick="openProductDetail('shorts2')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/777/fff?text=Casual+Luxury')"></div>
        <div class="product-name" data-key="shorts2_name">Шорты Casual Luxury</div>
        <div class="product-price">€49.99</div>
        <div class="product-description" data-key="shorts2_desc">Повседневные шорты премиум качества</div>
      </div>
      <div class="product" onclick="openProductDetail('shorts3')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/888/fff?text=Designer+Cut')"></div>
        <div class="product-name" data-key="shorts3_name">Шорты Designer Cut</div>
        <div class="product-price">€65.99</div>
        <div class="product-description" data-key="shorts3_desc">Дизайнерские шорты с идеальной посадкой</div>
      </div>
    </div>

    <!-- Кроссовки -->
    <div class="screen" id="sneakers">
      <div class="header">
        <button class="back" onclick="openScreen('catalog')">←</button>
        <h1 data-key="sneakers_title">Кроссовки</h1>
      </div>
      <div class="product" onclick="openProductDetail('sneaker1')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/999/fff?text=Nike+Air+Premium')"></div>
        <div class="product-name" data-key="sneaker1_name">Nike Air Premium</div>
        <div class="product-price">€89.99</div>
        <div class="product-description" data-key="sneaker1_desc">Премиальные кроссовки Nike Air с технологией амортизации</div>
      </div>
      <div class="product" onclick="openProductDetail('sneaker2')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/aaa/000?text=Adidas+Luxury')"></div>
        <div class="product-name" data-key="sneaker2_name">Adidas Luxury Edition</div>
        <div class="product-price">€95.99</div>
        <div class="product-description" data-key="sneaker2_desc">Люксовая версия классических Adidas</div>
      </div>
      <div class="product" onclick="openProductDetail('sneaker3')">
        <div class="product-image" style="background-image: url('https://via.placeholder.com/300x200/bbb/000?text=Jordan+Exclusive')"></div>
        <div class="product-name" data-key="sneaker3_name">Jordan Exclusive</div>
        <div class="product-price">€129.99</div>
        <div class="product-description" data-key="sneaker3_desc">Эксклюзивные Jordan с уникальным дизайном</div>
      </div>
    </div>

    <!-- Детальная страница товара -->
    <div class="screen" id="product-detail">
      <div class="header">
        <button class="back" onclick="goBackFromProduct()">←</button>
        <h1 id="detail-title">Товар</h1>
      </div>
      <div class="product-detail">
        <div class="product-image" id="detail-image"></div>
        <div class="product-name" id="detail-name"></div>
        <div class="product-price" id="detail-price"></div>
        <div class="product-description" id="detail-description"></div>
        
        <div class="size-selector">
          <label class="size-label" data-key="size_label">Размер:</label>
          <div class="size-options" id="size-options"></div>
        </div>
        
        <button class="add-to-cart" id="add-to-cart-btn" onclick="addToCart()" data-key="add_to_cart">Добавить в корзину</button>
      </div>
    </div>

    <!-- Корзина -->
    <div class="screen" id="cart">
      <div class="header">
        <button class="back" onclick="backToHome()">←</button>
        <h1 data-key="cart_title">Корзина</h1>
      </div>
      <div id="cart-items"></div>
      <div class="cart-total" id="cart-total-section" style="display: none;">
        <div class="cart-total-amount" id="cart-total-amount">€0.00</div>
        <button class="btn" onclick="checkout()" data-key="checkout_btn">Оформить заказ</button>
      </div>
      <div class="empty-cart" id="empty-cart" data-key="empty_cart">Корзина пуста</div>
    </div>

    <!-- Условия работы -->
    <div class="screen" id="terms">
      <div class="header">
        <button class="back" onclick="backToHome()">←</button>
        <h1 data-key="terms_title">Условия работы</h1>
      </div>
      <div class="content">
        <p data-key="terms_text1">Добро пожаловать в The Continental - эксклюзивный магазин премиальной одежды и обуви.</p>
        <p data-key="terms_text2">Мы работаем только с проверенными поставщиками и гарантируем подлинность всех товаров.</p>
        <p data-key="terms_text3">Доставка осуществляется по всему миру в течение 3-7 рабочих дней.</p>
        <p data-key="terms_text4">Возврат товара возможен в течение 14 дней с момента получения.</p>
        <p data-key="terms_text5">Все цены указаны в евро и включают НДС.</p>
      </div>
    </div>

    <!-- Поддержка -->
    <div class="screen" id="support">
      <div class="header">
        <button class="back" onclick="backToHome()">←</button>
        <h1 data-key="support_title">Поддержка</h1>
      </div>
      <div class="content">
        <p data-key="support_text1">Наша служба поддержки работает 24/7 для решения любых вопросов.</p>
        <p data-key="support_contact">Контакты:</p>
        <p>📧 support@continental-store.com</p>
        <p>📱 +1 (555) 123-4567</p>
        <p>💬 Telegram: @continental_support</p>
        <p data-key="support_text2">Среднее время ответа: 15 минут</p>
        <p data-key="support_text3">Мы говорим на русском, английском, украинском и немецком языках.</p>
      </div>
    </div>
  </div>

  <script>
    // Переводы
    const translations = {
      ru: {
        catalog_btn: "Каталог",
        terms_btn: "Условия работы",
        support_btn: "Поддержка",
        catalog_title: "Каталог",
        tshirts_btn: "Футболки",
        shorts_btn: "Шорты",
        sneakers_btn: "Кроссовки",
        tshirts_title: "Футболки",
        shorts_title: "Шорты",
        sneakers_title: "Кроссовки",
        cart_title: "Корзина",
        terms_title: "Условия работы",
        support_title: "Поддержка",
        size_label: "Размер:",
        add_to_cart: "Добавить в корзину",
        checkout_btn: "Оформить заказ",
        empty_cart: "Корзина пуста",
        // Товары
        tshirt1_name: "Футболка Premium Basic",
        tshirt1_desc: "Классическая футболка из премиального хлопка",
        tshirt2_name: "Футболка Designer Edition",
        tshirt2_desc: "Дизайнерская футболка с уникальным принтом",
        tshirt3_name: "Футболка Limited Collection",
        tshirt3_desc: "Лимитированная коллекция, эксклюзивный дизайн",
        shorts1_name: "Шорты Premium Sport",
        shorts1_desc: "Спортивные шорты из дышащего материала",
        shorts2_name: "Шорты Casual Luxury",
        shorts2_desc: "Повседневные шорты премиум качества",
        shorts3_name: "Шорты Designer Cut",
        shorts3_desc: "Дизайнерские шорты с идеальной посадкой",
        sneaker1_name: "Nike Air Premium",
        sneaker1_desc: "Премиальные кроссовки Nike Air с технологией амортизации",
        sneaker2_name: "Adidas Luxury Edition",
        sneaker2_desc: "Люксовая версия классических Adidas",
        sneaker3_name: "Jordan Exclusive",
        sneaker3_desc: "Эксклюзивные Jordan с уникальным дизайном",
        // Тексты
        terms_text1: "Добро пожаловать в The Continental - эксклюзивный магазин премиальной одежды и обуви.",
        terms_text2: "Мы работаем только с проверенными поставщиками и гарантируем подлинность всех товаров.",
        terms_text3: "Доставка осуществляется по всему миру в течение 3-7 рабочих дней.",
        terms_text4: "Возврат товара возможен в течение 14 дней с момента получения.",
        terms_text5: "Все цены указаны в евро и включают НДС.",
        support_text1: "Наша служба поддержки работает 24/7 для решения любых вопросов.",
        support_contact: "Контакты:",
        support_text2: "Среднее время ответа: 15 минут",
        support_text3: "Мы говорим на русском, английском, украинском и немецком языках."
      },
      en: {
        catalog_btn: "Catalog",
        terms_btn: "Terms of Service",
        support_btn: "Support",
        catalog_title: "Catalog",
        tshirts_btn: "T-Shirts",
        shorts_btn: "Shorts",
        sneakers_btn: "Sneakers",
        tshirts_title: "T-Shirts",
        shorts_title: "Shorts",
        sneakers_title: "Sneakers",
        cart_title: "Cart",
        terms_title: "Terms of Service",
        support_title: "Support",
        size_label: "Size:",
        add_to_cart: "Add to Cart",
        checkout_btn: "Checkout",
        empty_cart: "Cart is empty",
        // Products
        tshirt1_name: "Premium Basic T-Shirt",
        tshirt1_desc: "Classic t-shirt made from premium cotton",
        tshirt2_name: "Designer Edition T-Shirt",
        tshirt2_desc: "Designer t-shirt with unique print",
        tshirt3_name: "Limited Collection T-Shirt",
        tshirt3_desc: "Limited collection, exclusive design",
        shorts1_name: "Premium Sport Shorts",
        shorts1_desc: "Sport shorts made from breathable material",
        shorts2_name: "Casual Luxury Shorts",
        shorts2_desc: "Casual shorts of premium quality",
        shorts3_name: "Designer Cut Shorts",
        shorts3_desc: "Designer shorts with perfect fit",
        sneaker1_name: "Nike Air Premium",
        sneaker1_desc: "Premium Nike Air sneakers with cushioning technology",
        sneaker2_name: "Adidas Luxury Edition",
        sneaker2_desc: "Luxury version of classic Adidas",
        sneaker3_name: "Jordan Exclusive",
        sneaker3_desc: "Exclusive Jordan with unique design",
        // Texts
        terms_text1: "Welcome to The Continental - exclusive store of premium clothing and footwear.",
        terms_text2: "We work only with verified suppliers and guarantee authenticity of all products.",
        terms_text3: "Delivery is carried out worldwide within 3-7 business days.",
        terms_text4: "Product return is possible within 14 days from receipt.",
        terms_text5: "All prices are in euros and include VAT.",
        support_text1: "Our support service works 24/7 to solve any questions.",
        support_contact: "Contacts:",
        support_text2: "Average response time: 15 minutes",
        support_text3: "We speak Russian, English, Ukrainian and German."
      },
      uk: {
        catalog_btn: "Каталог",
        terms_btn: "Умови роботи",
        support_btn: "Підтримка",
        catalog_title: "Каталог",
        tshirts_btn: "Футболки",
        shorts_btn: "Шорти",
        sneakers_btn: "Кросівки",
        tshirts_title: "Футболки",
        shorts_title: "Шорти",
        sneakers_title: "Кросівки",
        cart_title: "Кошик",
        terms_title: "Умови роботи",
        support_title: "Підтримка",
        size_label: "Розмір:",
        add_to_cart: "Додати в кошик",
        checkout_btn: "Оформити замовлення",
        empty_cart: "Кошик порожній",
        // Products
        tshirt1_name: "Футболка Premium Basic",
        tshirt1_desc: "Класична футболка з преміального бавовни",
        tshirt2_name: "Футболка Designer Edition",
        tshirt2_desc: "Дизайнерська футболка з унікальним принтом",
        tshirt3_name: "Футболка Limited Collection",
        tshirt3_desc: "Лімітована колекція, ексклюзивний дизайн",
        shorts1_name: "Шорти Premium Sport",
        shorts1_desc: "Спортивні шорти з дихаючого матеріалу",
        shorts2_name: "Шорти Casual Luxury",
        shorts2_desc: "Повсякденні шорти преміум якості",
        shorts3_name: "Шорти Designer Cut",
        shorts3_desc: "Дизайнерські шорти з ідеальною посадкою",
        sneaker1_name: "Nike Air Premium",
        sneaker1_desc: "Преміальні кросівки Nike Air з технологією амортизації",
        sneaker2_name: "Adidas Luxury Edition",
        sneaker2_desc: "Люксова версія класичних Adidas",
        sneaker3_name: "Jordan Exclusive",
        sneaker3_desc: "Ексклюзивні Jordan з унікальним дизайном",
        // Texts
        terms_text1: "Ласкаво просимо до The Continental - ексклюзивного магазину преміального одягу та взуття.",
        terms_text2: "Ми працюємо тільки з перевіреними постачальниками та гарантуємо справжність всіх товарів.",
        terms_text3: "Доставка здійснюється по всьому світу протягом 3-7 робочих днів.",
        terms_text4: "Повернення товару можливе протягом 14 днів з моменту отримання.",
        terms_text5: "Всі ціни вказані в євро та включають ПДВ.",
        support_text1: "Наша служба підтримки працює 24/7 для вирішення будь-яких питань.",
        support_contact: "Контакти:",
        support_text2: "Середній час відповіді: 15 хвилин",
        support_text3: "Ми розмовляємо російською, англійською, українською та німецькою мовами."
      },
      de: {
        catalog_btn: "Katalog",
        terms_btn: "Geschäftsbedingungen",
        support_btn: "Support",
        catalog_title: "Katalog",
        tshirts_btn: "T-Shirts",
        shorts_btn: "Shorts",
        sneakers_btn: "Sneakers",
        tshirts_title: "T-Shirts",
        shorts_title: "Shorts",
        sneakers_title: "Sneakers",
        cart_title: "Warenkorb",
        terms_title: "Geschäftsbedingungen",
        support_title: "Support",
        size_label: "Größe:",
        add_to_cart: "In den Warenkorb",
        checkout_btn: "Zur Kasse",
        empty_cart: "Warenkorb ist leer",
        // Products
        tshirt1_name: "Premium Basic T-Shirt",
        tshirt1_desc: "Klassisches T-Shirt aus Premium-Baumwolle",
        tshirt2_name: "Designer Edition T-Shirt",
        tshirt2_desc: "Designer-T-Shirt mit einzigartigem Print",
        tshirt3_name: "Limited Collection T-Shirt",
        tshirt3_desc: "Limitierte Kollektion, exklusives Design",
        shorts1_name: "Premium Sport Shorts",
        shorts1_desc: "Sport-Shorts aus atmungsaktivem Material",
        shorts2_name: "Casual Luxury Shorts",
        shorts2_desc: "Casual Shorts in Premium-Qualität",
        shorts3_name: "Designer Cut Shorts",
        shorts3_desc: "Designer-Shorts mit perfekter Passform",
        sneaker1_name: "Nike Air Premium",
        sneaker1_desc: "Premium Nike Air Sneakers mit Dämpfungstechnologie",
        sneaker2_name: "Adidas Luxury Edition",
        sneaker2_desc: "Luxus-Version der klassischen Adidas",
        sneaker3_name: "Jordan Exclusive",
        sneaker3_desc: "Exklusive Jordan mit einzigartigem Design",
        // Texts
        terms_text1: "Willkommen bei The Continental - exklusiver Shop für Premium-Kleidung und Schuhe.",
        terms_text2: "Wir arbeiten nur mit verifizierten Lieferanten und garantieren die Echtheit aller Produkte.",
        terms_text3: "Die Lieferung erfolgt weltweit innerhalb von 3-7 Werktagen.",
        terms_text4: "Eine Rückgabe ist innerhalb von 14 Tagen nach Erhalt möglich.",
                terms_text5: "Alle Preise sind in Euro angegeben und enthalten die Mehrwertsteuer.",
        support_text1: "Unser Support-Service arbeitet 24/7 zur Lösung aller Fragen.",
        support_contact: "Kontakte:",
        support_text2: "Durchschnittliche Antwortzeit: 15 Minuten",
        support_text3: "Wir sprechen Russisch, Englisch, Ukrainisch und Deutsch."
      }
    };

    // Данные товаров
    const products = {
      tshirt1: {
        name: "tshirt1_name",
        price: "€29.99",
        description: "tshirt1_desc",
        image: "https://via.placeholder.com/300x200/333/fff?text=Premium+Basic",
        sizes: ["XS", "S", "M", "L", "XL", "XXL"],
        category: "tshirts"
      },
      tshirt2: {
        name: "tshirt2_name",
        price: "€45.99",
        description: "tshirt2_desc",
        image: "https://via.placeholder.com/300x200/444/fff?text=Designer+Edition",
        sizes: ["XS", "S", "M", "L", "XL", "XXL"],
        category: "tshirts"
      },
      tshirt3: {
        name: "tshirt3_name",
        price: "€59.99",
        description: "tshirt3_desc",
        image: "https://via.placeholder.com/300x200/555/fff?text=Limited+Collection",
        sizes: ["XS", "S", "M", "L", "XL", "XXL"],
        category: "tshirts"
      },
      shorts1: {
        name: "shorts1_name",
        price: "€39.99",
        description: "shorts1_desc",
        image: "https://via.placeholder.com/300x200/666/fff?text=Premium+Sport",
        sizes: ["XS", "S", "M", "L", "XL", "XXL"],
        category: "shorts"
      },
      shorts2: {
        name: "shorts2_name",
        price: "€49.99",
        description: "shorts2_desc",
        image: "https://via.placeholder.com/300x200/777/fff?text=Casual+Luxury",
        sizes: ["XS", "S", "M", "L", "XL", "XXL"],
        category: "shorts"
      },
      shorts3: {
        name: "shorts3_name",
        price: "€65.99",
        description: "shorts3_desc",
        image: "https://via.placeholder.com/300x200/888/fff?text=Designer+Cut",
        sizes: ["XS", "S", "M", "L", "XL", "XXL"],
        category: "shorts"
      },
      sneaker1: {
        name: "sneaker1_name",
        price: "€89.99",
        description: "sneaker1_desc",
        image: "https://via.placeholder.com/300x200/999/fff?text=Nike+Air+Premium",
        sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44", "45"],
        category: "sneakers"
      },
      sneaker2: {
        name: "sneaker2_name",
        price: "€95.99",
        description: "sneaker2_desc",
        image: "https://via.placeholder.com/300x200/aaa/000?text=Adidas+Luxury",
        sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44", "45"],
        category: "sneakers"
      },
      sneaker3: {
        name: "sneaker3_name",
        price: "€129.99",
        description: "sneaker3_desc",
        image: "https://via.placeholder.com/300x200/bbb/000?text=Jordan+Exclusive",
        sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44", "45"],
        category: "sneakers"
      }
    };

    // Глобальные переменные
    let currentLanguage = 'ru';
    let currentTheme = 'dark';
    let currentProduct = null;
    let selectedSize = null;
    let cart = [];
    let previousScreen = 'home';

    // Инициализация
    document.addEventListener('DOMContentLoaded', function() {
      // Загрузка сохраненных настроек
      const savedLanguage = localStorage.getItem('language') || 'ru';
      const savedTheme = localStorage.getItem('theme') || 'dark';
      const savedCart = localStorage.getItem('cart');
      
      if (savedCart) {
        cart = JSON.parse(savedCart);
        updateCartUI();
      }
      
      setLanguage(savedLanguage);
      setTheme(savedTheme);
      
      // Обработчики событий
      document.getElementById('language-select').addEventListener('change', function(e) {
        setLanguage(e.target.value);
      });
      
      document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
    });

    // Функции навигации
    function openScreen(screenId) {
      const screens = document.querySelectorAll('.screen');
      screens.forEach(screen => screen.classList.remove('active'));
      
      const targetScreen = document.getElementById(screenId);
      if (targetScreen) {
        targetScreen.classList.add('active');
        previousScreen = document.querySelector('.screen.active') ? 
          document.querySelector('.screen.active').id : 'home';
      }
    }

    function backToHome() {
      openScreen('home');
    }

    function goBackFromProduct() {
      if (currentProduct && products[currentProduct]) {
        openScreen(products[currentProduct].category);
      } else {
        openScreen('catalog');
      }
    }

    // Функция открытия детальной страницы товара
    function openProductDetail(productId) {
      currentProduct = productId;
      const product = products[productId];
      
      if (!product) return;
      
      // Заполнение данных товара
      document.getElementById('detail-title').textContent = getTranslation(product.name);
      document.getElementById('detail-image').style.backgroundImage = `url('${product.image}')`;
      document.getElementById('detail-name').textContent = getTranslation(product.name);
      document.getElementById('detail-price').textContent = product.price;
      document.getElementById('detail-description').textContent = getTranslation(product.description);
      
      // Создание селектора размеров
      const sizeOptions = document.getElementById('size-options');
      sizeOptions.innerHTML = '';
      selectedSize = null;
      
      product.sizes.forEach(size => {
        const sizeBtn = document.createElement('div');
        sizeBtn.className = 'size-option';
        sizeBtn.textContent = size;
        sizeBtn.onclick = () => selectSize(size, sizeBtn);
        sizeOptions.appendChild(sizeBtn);
      });
      
      openScreen('product-detail');
    }

    // Функция выбора размера
    function selectSize(size, element) {
      // Убираем выделение с других размеров
      document.querySelectorAll('.size-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      
      // Выделяем выбранный размер
      element.classList.add('selected');
      selectedSize = size;
    }

    // Функция добавления в корзину
    function addToCart() {
      if (!currentProduct || !selectedSize) {
        alert(currentLanguage === 'ru' ? 'Выберите размер' : 
              currentLanguage === 'en' ? 'Select size' :
              currentLanguage === 'uk' ? 'Оберіть розмір' : 'Größe wählen');
        return;
      }
      
      const product = products[currentProduct];
      const cartItem = {
        id: currentProduct,
        name: getTranslation(product.name),
        price: product.price,
        size: selectedSize,
        image: product.image,
        timestamp: Date.now()
      };
      
      cart.push(cartItem);
      saveCart();
      updateCartUI();
      
      // Показываем уведомление
      const message = currentLanguage === 'ru' ? 'Товар добавлен в корзину!' :
                     currentLanguage === 'en' ? 'Item added to cart!' :
                     currentLanguage === 'uk' ? 'Товар додано в кошик!' : 'Artikel zum Warenkorb hinzugefügt!';
      
      alert(message);
    }

    // Функция удаления из корзины
    function removeFromCart(index) {
      cart.splice(index, 1);
      saveCart();
      updateCartUI();
      renderCart();
    }

    // Функция обновления UI корзины
    function updateCartUI() {
      const cartCount = document.getElementById('cart-count');
      const cartBtn = document.getElementById('cart-btn');
      
      if (cart.length > 0) {
        cartCount.textContent = cart.length;
        cartCount.style.display = 'flex';
      } else {
        cartCount.style.display = 'none';
      }
      
      renderCart();
    }

    // Функция отрисовки корзины
    function renderCart() {
      const cartItems = document.getElementById('cart-items');
      const emptyCart = document.getElementById('empty-cart');
      const cartTotalSection = document.getElementById('cart-total-section');
      const cartTotalAmount = document.getElementById('cart-total-amount');
      
      if (cart.length === 0) {
        cartItems.innerHTML = '';
        emptyCart.style.display = 'block';
        cartTotalSection.style.display = 'none';
        return;
      }
      
      emptyCart.style.display = 'none';
      cartTotalSection.style.display = 'block';
      
      let total = 0;
      cartItems.innerHTML = '';
      
      cart.forEach((item, index) => {
        const price = parseFloat(item.price.replace('€', ''));
        total += price;
        
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.innerHTML = `
          <div class="cart-item-image" style="background-image: url('${item.image}')"></div>
          <div class="cart-item-info">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-details">${getTranslation('size_label')} ${item.size}</div>
            <div class="cart-item-price">${item.price}</div>
          </div>
          <button class="cart-item-remove" onclick="removeFromCart(${index})">×</button>
        `;
        cartItems.appendChild(cartItem);
      });
      
      cartTotalAmount.textContent = `€${total.toFixed(2)}`;
    }

    // Функция оформления заказа
    function checkout() {
      if (cart.length === 0) return;
      
      const message = currentLanguage === 'ru' ? 'Заказ оформлен! Мы свяжемся с вами в ближайшее время.' :
                     currentLanguage === 'en' ? 'Order placed! We will contact you shortly.' :
                     currentLanguage === 'uk' ? 'Замовлення оформлено! Ми зв\'яжемося з вами найближчим часом.' : 
                     'Bestellung aufgegeben! Wir werden uns in Kürze bei Ihnen melden.';
      
      alert(message);
      cart = [];
      saveCart();
      updateCartUI();
    }

    // Функция сохранения корзины
    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Функции для работы с языками
    function setLanguage(lang) {
      currentLanguage = lang;
      document.getElementById('language-select').value = lang;
      localStorage.setItem('language', lang);
      updateTexts();
    }

    function getTranslation(key) {
      return translations[currentLanguage] && translations[currentLanguage][key] 
        ? translations[currentLanguage][key] 
        : translations['ru'][key] || key;
    }

    function updateTexts() {
      document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        const translation = getTranslation(key);
        if (translation) {
          element.textContent = translation;
        }
      });
      
      // Обновляем корзину если она открыта
      if (document.getElementById('cart').classList.contains('active')) {
        renderCart();
      }
      
      // Обновляем детальную страницу товара если она открыта
      if (document.getElementById('product-detail').classList.contains('active') && currentProduct) {
        const product = products[currentProduct];
        document.getElementById('detail-title').textContent = getTranslation(product.name);
        document.getElementById('detail-name').textContent = getTranslation(product.name);
        document.getElementById('detail-description').textContent = getTranslation(product.description);
      }
    }

    // Функции для работы с темами
    function setTheme(theme) {
      currentTheme = theme;
      document.body.setAttribute('data-theme', theme);
      document.getElementById('theme-toggle').textContent = theme === 'dark' ? '☀️' : '🌙';
      localStorage.setItem('theme', theme);
    }

    function toggleTheme() {
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      setTheme(newTheme);
    }

    // Обработка свайпов для мобильных устройств
    let startX = 0;
    let startY = 0;

    document.addEventListener('touchstart', function(e) {
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    });

    document.addEventListener('touchend', function(e) {
      if (!startX || !startY) return;
      
      const endX = e.changedTouches[0].clientX;
      const endY = e.changedTouches[0].clientY;
      
      const diffX = startX - endX;
      const diffY = startY - endY;
      
      // Проверяем, что это горизонтальный свайп
      if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
        const activeScreen = document.querySelector('.screen.active');
        
        // Свайп влево (назад)
        if (diffX > 0) {
          if (activeScreen.id === 'product-detail') {
            goBackFromProduct();
                    } else if (activeScreen.id !== 'home') {
            backToHome();
          }
        }
      }
      
      startX = 0;
      startY = 0;
    });

    // Функция для анимации появления элементов
    function animateElements() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      });

      document.querySelectorAll('.product, .btn').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'all 0.5s ease';
        observer.observe(el);
      });
    }

    // Запуск анимации при загрузке
    window.addEventListener('load', animateElements);

    // Функция для обработки ошибок загрузки изображений
    function handleImageError(img) {
      img.style.backgroundColor = 'var(--bg-tertiary)';
      img.style.backgroundImage = 'none';
      img.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--text-secondary); font-size: 12px;">Изображение недоступно</div>';
    }

    // Добавляем обработчики ошибок для всех изображений товаров
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.product-image').forEach(img => {
        const bgImage = img.style.backgroundImage;
        if (bgImage) {
          const imageUrl = bgImage.slice(5, -2); // Убираем url(" и ")
          const testImg = new Image();
          testImg.onerror = () => handleImageError(img);
          testImg.src = imageUrl;
        }
      });
    });

    // Функция для поиска товаров (можно расширить в будущем)
    function searchProducts(query) {
      const results = [];
      Object.keys(products).forEach(key => {
        const product = products[key];
        const name = getTranslation(product.name).toLowerCase();
        const desc = getTranslation(product.description).toLowerCase();
        
        if (name.includes(query.toLowerCase()) || desc.includes(query.toLowerCase())) {
          results.push({...product, id: key});
        }
      });
      return results;
    }

    // Функция для сортировки товаров по цене
    function sortProductsByPrice(ascending = true) {
      const productList = Object.keys(products).map(key => ({
        ...products[key],
        id: key
      }));
      
      return productList.sort((a, b) => {
        const priceA = parseFloat(a.price.replace('€', ''));
        const priceB = parseFloat(b.price.replace('€', ''));
        return ascending ? priceA - priceB : priceB - priceA;
      });
    }

    // Функция для получения рекомендаций (простая логика)
    function getRecommendations(currentProductId) {
      const currentProduct = products[currentProductId];
      if (!currentProduct) return [];
      
      const sameCategory = Object.keys(products).filter(key => 
        key !== currentProductId && 
        products[key].category === currentProduct.category
      );
      
      return sameCategory.slice(0, 2); // Возвращаем до 2 рекомендаций
    }

    // Функция для валидации размера
    function isValidSize(productId, size) {
      const product = products[productId];
      return product && product.sizes.includes(size);
    }

    // Функция для форматирования цены
    function formatPrice(price) {
      if (typeof price === 'string' && price.includes('€')) {
        return price;
      }
      return `€${parseFloat(price).toFixed(2)}`;
    }

    // Функция для получения общей стоимости корзины
    function getCartTotal() {
      return cart.reduce((total, item) => {
        const price = parseFloat(item.price.replace('€', ''));
        return total + price;
      }, 0);
    }

    // Функция для проверки наличия товара в корзине
    function isInCart(productId, size) {
      return cart.some(item => item.id === productId && item.size === size);
    }

    // Функция для получения количества товара определенного типа в корзине
    function getCartItemCount(productId) {
      return cart.filter(item => item.id === productId).length;
    }

    // Функция для очистки корзины
    function clearCart() {
      const confirmMessage = currentLanguage === 'ru' ? 'Очистить корзину?' :
                            currentLanguage === 'en' ? 'Clear cart?' :
                            currentLanguage === 'uk' ? 'Очистити кошик?' : 'Warenkorb leeren?';
      
      if (confirm(confirmMessage)) {
        cart = [];
        saveCart();
        updateCartUI();
      }
    }

    // Функция для экспорта данных корзины (для отладки)
    function exportCartData() {
      const data = {
        cart: cart,
        total: getCartTotal(),
        timestamp: new Date().toISOString(),
        language: currentLanguage,
        theme: currentTheme
      };
      
      console.log('Cart Data:', JSON.stringify(data, null, 2));
      return data;
    }

    // Функция для импорта данных корзины (для отладки)
    function importCartData(data) {
      if (data && data.cart && Array.isArray(data.cart)) {
        cart = data.cart;
        saveCart();
        updateCartUI();
        
        if (data.language) {
          setLanguage(data.language);
        }
        
        if (data.theme) {
          setTheme(data.theme);
        }
        
        return true;
      }
      return false;
    }

    // Функция для получения статистики
    function getStats() {
      const stats = {
        totalProducts: Object.keys(products).length,
        cartItems: cart.length,
        cartTotal: getCartTotal(),
        currentLanguage: currentLanguage,
        currentTheme: currentTheme,
        categories: {
          tshirts: Object.keys(products).filter(key => products[key].category === 'tshirts').length,
          shorts: Object.keys(products).filter(key => products[key].category === 'shorts').length,
          sneakers: Object.keys(products).filter(key => products[key].category === 'sneakers').length
        }
      };
      
      return stats;
    }

    // Добавляем глобальные функции для консоли (для отладки)
    window.continentalDebug = {
      exportCart: exportCartData,
      importCart: importCartData,
      clearCart: clearCart,
      getStats: getStats,
      searchProducts: searchProducts,
      sortProducts: sortProductsByPrice
    };

    // Функция для обработки клавиатурных сокращений
    document.addEventListener('keydown', function(e) {
      // Ctrl/Cmd + H - домой
      if ((e.ctrlKey || e.metaKey) && e.key === 'h') {
        e.preventDefault();
        backToHome();
      }
      
      // Ctrl/Cmd + C - корзина
      if ((e.ctrlKey || e.metaKey) && e.key === 'c') {
        e.preventDefault();
        openScreen('cart');
      }
      
      // Escape - назад
      if (e.key === 'Escape') {
        const activeScreen = document.querySelector('.screen.active');
        if (activeScreen && activeScreen.id !== 'home') {
          if (activeScreen.id === 'product-detail') {
            goBackFromProduct();
          } else {
            backToHome();
          }
        }
      }
      
      // Ctrl/Cmd + T - переключение темы
      if ((e.ctrlKey || e.metaKey) && e.key === 't') {
        e.preventDefault();
        toggleTheme();
      }
    });

    // Функция для предзагрузки изображений
    function preloadImages() {
      Object.values(products).forEach(product => {
        const img = new Image();
        img.src = product.image;
      });
    }

    // Запускаем предзагрузку изображений
    window.addEventListener('load', preloadImages);

    // Функция для отслеживания времени на сайте (аналитика)
    let startTime = Date.now();
    let isActive = true;

    window.addEventListener('focus', () => isActive = true);
    window.addEventListener('blur', () => isActive = false);

    function getSessionTime() {
      return isActive ? Date.now() - startTime : 0;
    }

    // Сохраняем время сессии при закрытии
    window.addEventListener('beforeunload', function() {
      const sessionTime = getSessionTime();
      localStorage.setItem('lastSessionTime', sessionTime);
    });

    // Функция для получения информации о сессии
    function getSessionInfo() {
      return {
        currentSessionTime: getSessionTime(),
        lastSessionTime: localStorage.getItem('lastSessionTime') || 0,
        totalVisits: localStorage.getItem('totalVisits') || 0,
        firstVisit: localStorage.getItem('firstVisit') || new Date().toISOString()
      };
    }

    // Увеличиваем счетчик посещений
    const totalVisits = parseInt(localStorage.getItem('totalVisits') || '0') + 1;
    localStorage.setItem('totalVisits', totalVisits.toString());

    if (!localStorage.getItem('firstVisit')) {
      localStorage.setItem('firstVisit', new Date().toISOString());
    }

    // Добавляем функции сессии в debug объект
    window.continentalDebug.getSessionInfo = getSessionInfo;

    console.log('🏨 The Continental Store loaded successfully!');
    console.log('💡 Use window.continentalDebug for debugging functions');
  </script>
</body>
</html>



